<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CLT Flight Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: system-ui, -apple-system, sans-serif;
  height: 100vh;
  overflow: hidden;
}

.card {
  position: absolute;
  top: 40px;
  width: 100%;
  text-align: center;
}

.logo {
  width: 90px;
  height: 90px;
  margin-bottom: 20px;
}

.flight {
  font-size: 54px;
  font-weight: 600;
  letter-spacing: 2px;
}

.route {
  margin-top: 10px;
  font-size: 20px;
  opacity: 0.7;
}

.status {
  margin-top: 8px;
  font-size: 14px;
  color: #4fd1ff;
}

.map {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 220px;
  background: radial-gradient(circle at center, #111 0%, #000 70%);
}
</style>
</head>

<body>

<div class="card">
  <img id="logo" class="logo" />
  <div class="flight" id="flight">—</div>
  <div class="route" id="route"></div>
  <div class="status" id="status"></div>
</div>

<div class="map">
  <svg viewBox="0 0 1000 300" width="100%" height="100%">
    <path id="routePath"
          d="M100 200 Q500 50 900 200"
          fill="none"
          stroke="rgba(255,255,255,0.35)"
          stroke-width="2"
          stroke-dasharray="6 10"/>

    <text id="planeIcon" font-size="22">✈︎
      <animateMotion
        dur="12s"
        repeatCount="indefinite"
        path="M100 200 Q500 50 900 200"/>
    </text>
  </svg>
</div>

<script>
const API_KEY = "YOUR_API_KEY_HERE";
let flights = [];
let index = 0;

async function fetchFlights() {
  try {
    const url =
      `https://api.aviationstack.com/v1/flights?access_key=${API_KEY}` +
      `&arr_iata=CLT&flight_status=active&limit=10`;

    const res = await fetch(url);
    const data = await res.json();
    flights = data.data || [];
  } catch (e) {
    console.error("API error", e);
  }
}

function showFlight() {
  if (flights.length === 0) return;

  const f = flights[index % flights.length];
  index++;

  document.getElementById("flight").textContent =
    f.flight.iata || "—";

  document.getElementById("route").textContent =
    `${f.departure.airport} → ${f.arrival.airport}`;

  document.getElementById("status").textContent =
    `Status: ${f.flight_status.toUpperCase()}`;

  const logo = document.getElementById("logo");
  if (f.airline.iata) {
    logo.src =
      `https://content.airhex.com/content/logos/airlines_${f.airline.iata}_200_200_s.png`;
    logo.style.display = "block";
  } else {
    logo.style.display = "none";
  }

  updateTrackerDirection(f.arrival.iata === "CLT");
}

function updateTrackerDirection(isArrival) {
  const svg = document.querySelector("svg");
  svg.innerHTML = `
    <path
      d="${isArrival
        ? "M100 200 Q500 50 900 200"
        : "M900 200 Q500 50 100 200"}"
      fill="none"
      stroke="rgba(255,255,255,0.35)"
      stroke-width="2"
      stroke-dasharray="6 10"/>

    <text font-size="22" transform="rotate(${isArrival ? 0 : 180})">
      ✈︎
      <animateMotion
        dur="12s"
        repeatCount="indefinite"
        path="${isArrival
          ? "M100 200 Q500 50 900 200"
          : "M900 200 Q500 50 100 200"}"/>
    </text>
  `;
}

fetchFlights();
setInterval(fetchFlights, 10 * 60 * 1000);
setInterval(showFlight, 8 * 1000);
</script>

</body>
</html>







